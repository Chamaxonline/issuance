<!doctype html>

<html>
  <head>
    <title>Openblog</title>
    <script>
      function redirect() {
        if (!window.location.search)
          return;

        var request = new XMLHttpRequest();
        request.open('POST', 'https://github.com/login/oauth/access_token', true);
        request.setRequestHeader('Access-Control-Allow-Origin', 'http://mateogianolio.com');
        request.setRequestHeader('Accept', 'application/json');

        var data = '?client_id=92acf5c0002534e0edb3';
        data += '&client_secret=7fe6aea5d9800a8dc244a5217b592aebc01a8c1b';
        data += '&code=' + window.location.search.replace('?code=');

        request.send(data);
        request.onreadystatechange = function (event) {
          if (request.readyState === 4) {
            if (request.status === 200)
              alert(request.responseText);
            else
              alert(request.statusText);
          }
        };
      }
    </script>
  </head>
  <body onload="redirect()">
  </body>
</html>
