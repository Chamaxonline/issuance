<!doctype html>

<html>
  <head>
    <title>Openblog Github Login</title>
    <script src="js/lib/github.bundle.min.js"></script>
    <script>
      function redirect() {
        if (window.location.search.indexOf('?code=') === 0) {
          var request = new XMLHttpRequest();
          request.open('POST', 'https://github.com/login/oauth/access_token');

          var post = [
            'client_id=92acf5c0002534e0edb3',
            'client_secret=7fe6aea5d9800a8dc244a5217b592aebc01a8c1b',
            'code=' + window.location.search.replace('?code=', ''),
            'redirect_uri=https://mateogianolio.github.io/openblog/'
          ];

          request.send('?' + post.join('&'));
          request.addEventListener('load', function (data) {
            console.log(data);
          });
        }
      }
    </script>
  </head>
  <body onload="redirect()">
  </body>
</html>
